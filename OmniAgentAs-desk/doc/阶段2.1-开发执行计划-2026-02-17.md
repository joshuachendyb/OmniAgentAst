# é˜¶æ®µ2.1å¼€å‘æ‰§è¡Œè®¡åˆ’

**åˆ¶å®šæ—¶é—´**: 2026-02-17 22:26:12  
**æ›´æ–°æ—¶é—´**: 2026-02-17 22:50:00  
**ç‰ˆæœ¬**: v1.1  
**é˜¶æ®µ**: 2.1 Webå¯¹è¯ç•Œé¢+é…ç½®+å®‰å…¨  
**é¢„è®¡å·¥æœŸ**: 3å‘¨  
**çŠ¶æ€**: å·²å®¡æŸ¥ä¿®è®¢  

---

## ä¸€ã€å¼€å‘ç­–ç•¥

### 1.1 è¿­ä»£é¡ºåº

æŒ‰**ä»ç®€å•åˆ°å¤æ‚ã€ä»æ ¸å¿ƒåˆ°å¤–å›´**çš„é¡ºåºå¼€å‘ï¼š

```
Week 1: åŸºç¡€ç•Œé¢é‡æ„ + æ‰§è¡Œè¿‡ç¨‹å¯è§†åŒ–ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
Week 2: é…ç½®ç®¡ç† + å·¦ä¾§å¯¼èˆªæ ï¼ˆæ‰©å±•åŠŸèƒ½ï¼‰
Week 3: å®‰å…¨å¢å¼º + å†å²ä¼šè¯ + æµ‹è¯•éªŒæ”¶ï¼ˆå®Œå–„åŠŸèƒ½ï¼‰
```

### 1.2 è®¾è®¡åŸåˆ™

**ç¾è§‚åŸåˆ™**ï¼š
- é‡‡ç”¨Ant Design 5è®¾è®¡ä½“ç³»ï¼Œç»„ä»¶é£æ ¼ç»Ÿä¸€
- é…è‰²ï¼šä¸»è‰²#1890ffï¼ŒèƒŒæ™¯æ¸å˜ï¼Œå¡ç‰‡é˜´å½±
- åŠ¨ç”»ï¼šæ¶ˆæ¯æ·¡å…¥200msï¼ŒæŒ‰é’®å¾®äº¤äº’ï¼ŒåŠ è½½éª¨æ¶å±

**æ˜“ç”¨åŸåˆ™**ï¼š
- 3ç§’è§„åˆ™ï¼šä»»ä½•æ“ä½œ3ç§’å†…æœ‰åé¦ˆ
- ä¸€é”®æ“ä½œï¼šå¸¸ç”¨åŠŸèƒ½ä¸€é”®å¯è¾¾
- é˜²é”™è®¾è®¡ï¼šå±é™©æ“ä½œäºŒæ¬¡ç¡®è®¤ï¼Œæ“ä½œå¯æ’¤é”€

**å¼€å‘åŸåˆ™**ï¼š
- **æ—¥å¿—è®°å½•**ï¼šæ¯ä¸ªæ–°åŠŸèƒ½å¿…é¡»åŒæ­¥æ·»åŠ æ—¥å¿—ï¼ˆlogger_agent / logger_tool / logger_apiï¼‰
- **é”™è¯¯å¤„ç†**ï¼šæ‰€æœ‰APIè°ƒç”¨å¿…é¡»æœ‰try-catchå’Œé”™è¯¯æç¤º
- **æ€§èƒ½ç›‘æ§**ï¼šå…³é”®æ“ä½œè®°å½•è€—æ—¶ï¼Œè¶…è¿‡3ç§’è­¦å‘Š
- **ä»£ç å®¡æŸ¥**ï¼šæ¯æ—¥ç»“æŸæäº¤å‰è¿è¡Œnpm run lintå’Œpytest

---

## äºŒã€Week 1: æ ¸å¿ƒåŠŸèƒ½ï¼ˆç¬¬1-7å¤©ï¼‰

### 2.1 ä»»åŠ¡1.1: ç•Œé¢å¸ƒå±€é‡æ„ï¼ˆDay 1-2ï¼‰

**ç›®æ ‡**: ä»å•æ å¸ƒå±€æ”¹ä¸ºå·¦å³åˆ†æ ï¼Œä¸ºå¯¼èˆªæ é¢„ç•™ç©ºé—´

**å½“å‰é—®é¢˜**: App.tsxæ˜¯å•ä¸€ContentåŒºåŸŸï¼Œæ²¡æœ‰å·¦ä¾§å¯¼èˆª

**æ”¹é€ æ–¹æ¡ˆ**:
```
å½“å‰å¸ƒå±€:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Header           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚    Chat Component       â”‚
â”‚    (å•ä¸€å†…å®¹åŒº)         â”‚
â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ–°å¸ƒå±€:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚   Header     â”‚
â”‚  Sidebar â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¯¼èˆªæ    â”‚              â”‚
â”‚          â”‚   Main       â”‚
â”‚  - å¯¹è¯   â”‚   Content    â”‚
â”‚  - æ–‡ä»¶   â”‚              â”‚
â”‚  - çŸ¥è¯†åº“ â”‚   - å¯¹è¯åŒº   â”‚
â”‚  - è®¾ç½®   â”‚   - æ‰§è¡Œå±•ç¤º â”‚
â”‚  - å†å²   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€æœ¯å®ç°**:
```typescript
// æ–°å»º Layout/index.tsx
import { Layout, Menu } from 'antd';
const { Sider, Content, Header } = Layout;

<Layout style={{ minHeight: '100vh' }}>
  <Sider width={220} theme="light" style={{ boxShadow: '2px 0 8px rgba(0,0,0,0.05)' }}>
    <Logo />
    <Menu mode="inline" items={navItems} />
  </Sider>
  <Layout>
    <Header style={{ background: '#fff', boxShadow: '0 2px 8px rgba(0,0,0,0.05)' }}>
      <Breadcrumb />
    </Header>
    <Content style={{ margin: 24, padding: 24, background: '#f5f5f5' }}>
      <Routes>
        <Route path="/" element={<ChatPage />} />
        <Route path="/settings" element={<SettingsPage />} />
      </Routes>
    </Content>
  </Layout>
</Layout>
```

**UIç»†èŠ‚**:
- Siderä½¿ç”¨theme="light"ï¼Œä¸æ·±è‰²Headerå½¢æˆå¯¹æ¯”
- æ·»åŠ box-shadowåˆ›é€ å±‚æ¬¡æ„Ÿ
- ContentåŒºåŸŸä½¿ç”¨#f5f5f5æµ…ç°èƒŒæ™¯ï¼Œå¡ç‰‡ä½¿ç”¨ç™½è‰²çªå‡º
- åœ†è§’8pxï¼Œç¬¦åˆç°ä»£è®¾è®¡è¶‹åŠ¿

**Day 1äº§å‡º**: Layoutç»„ä»¶æ¡†æ¶
**Day 2äº§å‡º**: è·¯ç”±é…ç½®å®Œæˆï¼Œé¡µé¢åˆ‡æ¢æ­£å¸¸

---

### 2.2 ä»»åŠ¡1.2: å¯¹è¯ç•Œé¢ç¾åŒ–ï¼ˆDay 3ï¼‰

**ç›®æ ‡**: é‡æ–°è®¾è®¡æ¶ˆæ¯æ°”æ³¡ï¼Œæ·»åŠ å¤´åƒå’ŒçŠ¶æ€æ ‡è¯†

**æ”¹é€ ç‚¹**:
```typescript
// MessageItemç»„ä»¶ä¼˜åŒ–
interface MessageItemProps {
  role: 'user' | 'assistant' | 'system';
  content: string;
  timestamp: Date;
  isStreaming?: boolean;  // æ–°å¢ï¼šæµå¼è¾“å‡ºçŠ¶æ€
}

// è§†è§‰æ•ˆæœ:
// ç”¨æˆ·æ¶ˆæ¯: è“è‰²æ¸å˜èƒŒæ™¯ + ç™½è‰²æ–‡å­— + å³ä¾§å¤´åƒ
// AIæ¶ˆæ¯: ç™½è‰²å¡ç‰‡ + ç»¿è‰²è¾¹æ¡† + å·¦ä¾§AIå¤´åƒ
// ç³»ç»Ÿæ¶ˆæ¯: æµ…é»„è‰²èƒŒæ™¯ + è­¦å‘Šå›¾æ ‡
```

**CSSæ ·å¼**:
```css
.message-user {
  background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
  color: white;
  border-radius: 12px 12px 2px 12px;  /* å³ä¾§åœ†è§’å° */
  box-shadow: 0 2px 8px rgba(24,144,255,0.3);
  padding: 12px 16px;
  max-width: 70%;
}

.message-assistant {
  background: white;
  border: 1px solid #b7eb8f;
  border-radius: 12px 12px 12px 2px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  padding: 12px 16px;
}

.message-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.user-avatar { background: #1890ff; }
.assistant-avatar { background: #52c41a; }
```

**äº¤äº’ç»†èŠ‚**:
- æ¶ˆæ¯hoveræ˜¾ç¤ºå¤åˆ¶æŒ‰é’®
- é•¿æ¶ˆæ¯è‡ªåŠ¨æŠ˜å ï¼Œç‚¹å‡»å±•å¼€
- æ—¶é—´æˆ³æ˜¾ç¤ºç›¸å¯¹æ—¶é—´ï¼ˆå¦‚"3åˆ†é’Ÿå‰"ï¼‰

**Day 3äº§å‡º**: ç¾åŒ–åçš„æ¶ˆæ¯ç»„ä»¶

---

### 2.3 ä»»åŠ¡1.3: æ‰§è¡Œè¿‡ç¨‹å¯è§†åŒ–ï¼ˆDay 4-6ï¼‰

**ç›®æ ‡**: å±•ç¤ºReActå¾ªç¯çš„æ¯ä¸ªæ­¥éª¤ï¼Œè®©ç”¨æˆ·çœ‹åˆ°AIçš„æ€è€ƒè¿‡ç¨‹

**è®¾è®¡æ–¹æ¡ˆ**:
```
æ‰§è¡Œé¢æ¿ï¼ˆå¯æŠ˜å å¡ç‰‡ï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ > ğŸ¤” æ‰§è¡Œè¯¦æƒ… (å…±5æ­¥ï¼Œè€—æ—¶3.2s)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Step 1: ğŸ§  æ€è€ƒ                       â”‚
â”‚ "æˆ‘éœ€è¦å…ˆæŸ¥çœ‹ä¸‹è½½æ–‡ä»¶å¤¹çš„å†…å®¹..."      â”‚
â”‚                                      â”‚
â”‚ Step 2: ğŸ”§ è°ƒç”¨å·¥å…·                   â”‚
â”‚ list_directory: /Users/xxx/Downloads â”‚
â”‚ â†³ è¿”å›: 15ä¸ªæ–‡ä»¶                      â”‚
â”‚                                      â”‚
â”‚ Step 3: ğŸ§  æ€è€ƒ                       â”‚
â”‚ "æ ¹æ®æ–‡ä»¶ç±»å‹ï¼Œæˆ‘åº”è¯¥åˆ›å»º3ä¸ªæ–‡ä»¶å¤¹..." â”‚
â”‚                                      â”‚
â”‚ Step 4: ğŸ”§ è°ƒç”¨å·¥å…·                   â”‚
â”‚ create_directory: æ–‡æ¡£, å›¾ç‰‡, å®‰è£…åŒ…  â”‚
â”‚ â†³ è¿”å›: æˆåŠŸ                          â”‚
â”‚                                      â”‚
â”‚ Step 5: âœ… å®Œæˆ                       â”‚
â”‚ ä»»åŠ¡æ‰§è¡Œå®Œæˆ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åç«¯APIæ”¹é€ **:
```python
# chat.py æ–°å¢æµå¼å“åº”
@router.post("/chat/stream")
async def chat_stream(request: ChatRequest):
    """æµå¼è¿”å›ï¼Œå®æ—¶å±•ç¤ºæ€è€ƒè¿‡ç¨‹"""
    async def generate():
        # 1. å‘é€æ€è€ƒæ­¥éª¤
        yield json.dumps({"type": "thought", "content": "æ­£åœ¨åˆ†æä»»åŠ¡..."})
        
        # 2. å‘é€å·¥å…·è°ƒç”¨
        yield json.dumps({"type": "action", "tool": "list_directory", "params": {...}})
        
        # 3. å‘é€è§‚å¯Ÿç»“æœ
        yield json.dumps({"type": "observation", "result": "..."})
        
        # 4. æœ€ç»ˆç»“æœ
        yield json.dumps({"type": "final", "content": "..."})
    
    return StreamingResponse(generate(), media_type="text/event-stream")
```

**å‰ç«¯ç»„ä»¶**:
```typescript
// ExecutionPanel.tsx
interface ExecutionStep {
  type: 'thought' | 'action' | 'observation' | 'final';
  content?: string;
  tool?: string;
  params?: any;
  result?: any;
  timestamp: number;
}

// ä½¿ç”¨ Collapse + Timeline ç»„ä»¶
<Collapse 
  defaultActiveKey={[]}  // é»˜è®¤æŠ˜å 
  items={[{
    key: 'execution',
    label: `ğŸ¤” æ‰§è¡Œè¯¦æƒ… (${steps.length}æ­¥)`,
    children: (
      <Timeline mode="left">
        {steps.map((step, idx) => (
          <Timeline.Item 
            key={idx}
            dot={getStepIcon(step.type)}
            color={getStepColor(step.type)}
          >
            {step.type === 'action' && (
              <Card size="small" title={`ğŸ”§ ${step.tool}`}>
                <pre>{JSON.stringify(step.params, null, 2)}</pre>
                <div style={{ color: '#52c41a' }}>
                  â†³ {step.result}
                </div>
              </Card>
            )}
            {step.type === 'thought' && (
              <div style={{ color: '#666', fontStyle: 'italic' }}>
                ğŸ§  {step.content}
              </div>
            )}
          </Timeline.Item>
        ))}
      </Timeline>
    )
  }]}
/>
```

**Day 4äº§å‡º**: åç«¯æµå¼API + æ—¥å¿—è®°å½•ï¼ˆlogger_apiï¼‰
**Day 5äº§å‡º**: ExecutionPanelç»„ä»¶ + å•å…ƒæµ‹è¯•
**Day 6äº§å‡º**: å‰åç«¯è”è°ƒï¼Œæµå¼è¾“å‡ºæ­£å¸¸ + æ€§èƒ½åŸºçº¿æµ‹è¯•

---

### 2.4 ä»»åŠ¡1.4: è¾“å…¥åŒºåŸŸä¼˜åŒ–ï¼ˆDay 7ï¼‰

**ç›®æ ‡**: ä¼˜åŒ–è¾“å…¥æ¡†ï¼Œæ”¯æŒå¿«æ·é”®å’Œå¯Œæ–‡æœ¬

**åŠŸèƒ½ç‚¹**:
- Enterå‘é€ï¼ŒShift+Enteræ¢è¡Œ
- è¾“å…¥æ—¶æ˜¾ç¤ºå­—ç¬¦è®¡æ•°
- ç²˜è´´å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ ï¼ˆé¢„ç•™ï¼‰
- å¸¸ç”¨å¿«æ·æŒ‡ä»¤ï¼ˆ/clear, /helpï¼‰

**ä»£ç å®ç°**:
```typescript
const InputArea: React.FC = () => {
  const [value, setValue] = useState('');
  const [charCount, setCharCount] = useState(0);
  
  const handleKeyDown = (e: React.KeyboardEvent) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      handleSend();
    }
  };
  
  return (
    <div style={{ position: 'relative' }}>
      <TextArea
        value={value}
        onChange={(e) => {
          setValue(e.target.value);
          setCharCount(e.target.value.length);
        }}
        onKeyDown={handleKeyDown}
        placeholder="è¾“å…¥æ¶ˆæ¯ï¼ŒEnterå‘é€ï¼ŒShift+Enteræ¢è¡Œ..."
        autoSize={{ minRows: 2, maxRows: 6 }}
        maxLength={2000}
        showCount
      />
      <div style={{ position: 'absolute', bottom: 8, right: 80, color: '#999' }}>
        {charCount}/2000
      </div>
      <Button type="primary" icon={<SendOutlined />} onClick={handleSend}>
        å‘é€
      </Button>
    </div>
  );
};
```

**Day 7äº§å‡º**: ä¼˜åŒ–åçš„è¾“å…¥åŒºåŸŸ

---

## ä¸‰ã€Week 2: é…ç½®ç®¡ç† + å¯¼èˆªæ ï¼ˆç¬¬8-14å¤©ï¼‰

### 3.1 ä»»åŠ¡2.1: é…ç½®ç®¡ç†APIï¼ˆDay 8-9ï¼‰

**åç«¯æ¥å£è®¾è®¡**:
```python
# api/v1/config.py
@router.get("/config")
async def get_config():
    """è·å–å½“å‰é…ç½®ï¼ˆæ•æ„Ÿä¿¡æ¯è„±æ•ï¼‰"""
    return {
        "ai_provider": "zhipuai",
        "ai_model": "glm-4.7-flash",
        "api_key_configured": True,  # æ˜¯å¦å·²é…ç½®ï¼Œä¸è¿”å›çœŸå®Key
        "theme": "light",
        "language": "zh-CN"
    }

@router.put("/config")
async def update_config(config: ConfigUpdate):
    """æ›´æ–°é…ç½®"""
    # å†™å…¥config.yaml
    # é‡æ–°åŠ è½½æœåŠ¡
    return {"success": True}

@router.post("/config/validate")
async def validate_config(config: ConfigUpdate):
    """éªŒè¯é…ç½®æ˜¯å¦æœ‰æ•ˆï¼ˆæµ‹è¯•API Keyï¼‰"""
    # å°è¯•è°ƒç”¨APIéªŒè¯Key
    return {"valid": True, "message": "é…ç½®æœ‰æ•ˆ"}
```

**Day 8äº§å‡º**: GET/PUT /configæ¥å£
**Day 9äº§å‡º**: éªŒè¯æ¥å£ï¼Œé…ç½®æŒä¹…åŒ–

---

### 3.2 ä»»åŠ¡2.2: è®¾ç½®é¡µé¢ï¼ˆDay 10-11ï¼‰

**ç•Œé¢è®¾è®¡**:
```
è®¾ç½®é¡µé¢ (SettingsPage):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ ç³»ç»Ÿè®¾ç½®                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚ ğŸ­ å¤–è§‚è®¾ç½®                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ä¸»é¢˜        [â—äº®è‰² â—‹æš—è‰²]           â”‚ â”‚
â”‚ â”‚ è¯­è¨€        [ç®€ä½“ä¸­æ–‡ â–¼]            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚ ğŸ¤– AIè®¾ç½®                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ¨¡å‹æä¾›å•†  [æ™ºè°±GLM â–¼]             â”‚ â”‚
â”‚ â”‚ æ¨¡å‹        [glm-4.7-flash â–¼]       â”‚ â”‚
â”‚ â”‚                                   â”‚ â”‚
â”‚ â”‚ API Key     [****************] [æ˜¾ç¤º]â”‚ â”‚
â”‚ â”‚             [éªŒè¯Key]               â”‚ â”‚
â”‚ â”‚             âœ… API Keyæœ‰æ•ˆ           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚ ğŸ”’ å®‰å…¨è®¾ç½®                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Shellé»‘åå•  [ç¼–è¾‘åˆ—è¡¨]             â”‚ â”‚
â”‚ â”‚ è‡ªåŠ¨ç¡®è®¤    [â—‹æ˜¯ â—å¦]              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚           [ä¿å­˜è®¾ç½®] [é‡ç½®]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç»„ä»¶å®ç°**:
```typescript
// SettingsPage.tsx
import { Card, Form, Select, Input, Switch, Button, message } from 'antd';

const SettingsPage: React.FC = () => {
  const [form] = Form.useForm();
  const [validating, setValidating] = useState(false);
  
  const handleSave = async (values: any) => {
    await configApi.updateConfig(values);
    message.success('è®¾ç½®å·²ä¿å­˜');
  };
  
  const handleValidateKey = async () => {
    setValidating(true);
    const result = await configApi.validateConfig(form.getFieldsValue());
    setValidating(false);
    if (result.valid) {
      message.success('API Keyæœ‰æ•ˆ');
    } else {
      message.error(result.message);
    }
  };
  
  return (
    <Form form={form} onFinish={handleSave} layout="vertical">
      <Card title="ğŸ¤– AIè®¾ç½®">
        <Form.Item name="ai_provider" label="æ¨¡å‹æä¾›å•†">
          <Select options={[{value: 'zhipuai', label: 'æ™ºè°±GLM'}, {value: 'opencode', label: 'OpenCode'}]} />
        </Form.Item>
        
        <Form.Item name="api_key" label="API Key">
          <Input.Password placeholder="è¾“å…¥API Key" />
        </Form.Item>
        
        <Button onClick={handleValidateKey} loading={validating}>
          éªŒè¯Key
        </Button>
      </Card>
      
      <Card title="ğŸ­ å¤–è§‚è®¾ç½®">
        <Form.Item name="theme" label="ä¸»é¢˜">
          <Select options={[{value: 'light', label: 'äº®è‰²'}, {value: 'dark', label: 'æš—è‰²'}]} />
        </Form.Item>
      </Card>
      
      <Form.Item>
        <Button type="primary" htmlType="submit">ä¿å­˜è®¾ç½®</Button>
      </Form.Item>
    </Form>
  );
};
```

**Day 10äº§å‡º**: è®¾ç½®é¡µé¢æ¡†æ¶
**Day 11äº§å‡º**: API KeyéªŒè¯åŠŸèƒ½

---

### 3.3 ä»»åŠ¡2.3: å·¦ä¾§å¯¼èˆªæ å®Œå–„ï¼ˆDay 12-13ï¼‰

**å¯¼èˆªé¡¹è®¾è®¡**:
```typescript
const navItems = [
  {
    key: '/',
    icon: <MessageOutlined />,
    label: 'å¯¹è¯',
    badge: unreadCount  // æœªè¯»æ¶ˆæ¯æ•°
  },
  {
    key: '/files',
    icon: <FolderOutlined />,
    label: 'æ–‡ä»¶ç®¡ç†',
    disabled: false
  },
  {
    key: '/knowledge',
    icon: <BookOutlined />,
    label: 'çŸ¥è¯†åº“',
    disabled: true,  // é˜¶æ®µ3.2å¼€å‘
    tooltip: 'å³å°†ä¸Šçº¿'
  },
  {
    key: '/history',
    icon: <HistoryOutlined />,
    label: 'å†å²è®°å½•',
    badge: sessionCount
  },
  {
    type: 'divider'
  },
  {
    key: '/settings',
    icon: <SettingOutlined />,
    label: 'è®¾ç½®'
  }
];
```

**äº¤äº’ç»†èŠ‚**:
- å½“å‰è·¯ç”±é«˜äº®æ˜¾ç¤º
- æ‚¬åœæ˜¾ç¤ºtooltip
- æœªè¯»æ¶ˆæ¯badgeæç¤º
- ç¦ç”¨é¡¹æ˜¾ç¤º"å³å°†ä¸Šçº¿"æç¤º

**Day 12äº§å‡º**: å¯¼èˆªæ ç»„ä»¶
**Day 13äº§å‡º**: è·¯ç”±åˆ‡æ¢ï¼Œé¡µé¢æ¡†æ¶å®Œæˆ

---

### 3.4 ä»»åŠ¡2.4: å“åº”å¼é€‚é…ï¼ˆDay 14ï¼‰

**æ–­ç‚¹è®¾è®¡**:
```typescript
// å“åº”å¼æ–­ç‚¹
const breakpoints = {
  xs: '<576px',    // æ‰‹æœºï¼šSidebaréšè—ä¸ºæŠ½å±‰
  sm: '576-768px', // å¤§æ‰‹æœºï¼šSidebaræ”¶èµ·
  md: '768-992px', // å¹³æ¿ï¼šSidebaræ”¶èµ·
  lg: '992-1200px',// å°æ¡Œé¢ï¼šæ­£å¸¸æ˜¾ç¤º
  xl: '>1200px'    // å¤§æ¡Œé¢ï¼šæ­£å¸¸æ˜¾ç¤º
};
```

**ç§»åŠ¨ç«¯é€‚é…**:
```typescript
// ä½¿ç”¨Ant Designçš„Gridç³»ç»Ÿ
const isMobile = useBreakpoint();

// ç§»åŠ¨ç«¯ï¼šSidebarå˜ä¸ºæŠ½å±‰
{isMobile.xs ? (
  <>
    <Button icon={<MenuOutlined />} onClick={() => setDrawerVisible(true)} />
    <Drawer visible={drawerVisible} onClose={() => setDrawerVisible(false)}>
      <Menu items={navItems} />
    </Drawer>
  </>
) : (
  <Sider><Menu items={navItems} /></Sider>
)}
```

**Day 14äº§å‡º**: ç§»åŠ¨ç«¯é€‚é…å®Œæˆ

---

## å››ã€Week 3: å®‰å…¨å¢å¼º + æµ‹è¯•éªŒæ”¶ï¼ˆç¬¬15-21å¤©ï¼‰

### 4.1 ä»»åŠ¡3.1: Shellå‘½ä»¤é»‘åå•ï¼ˆDay 15-16ï¼‰

**åç«¯å®ç°**:
```python
# services/security/blacklist.py

DANGEROUS_COMMANDS = [
    # ç³»ç»Ÿç ´åç±»
    'rm -rf /', 'rm -rf /*', 'mkfs', 'dd if=/dev/zero',
    'format', 'del /f /s /q', 'rd /s /q',
    
    # æƒé™æå‡ç±»  
    'sudo', 'su -', 'chmod 777 /',
    
    # ç½‘ç»œæ”»å‡»ç±»
    'nc -e', 'ncat -e', 'bash -i', 'sh -i',
    
    # æ•°æ®æ³„éœ²ç±»
    'cat /etc/passwd', 'cat /etc/shadow',
]

def check_command_safety(command: str) -> tuple[bool, str]:
    """
    æ£€æŸ¥å‘½ä»¤æ˜¯å¦å®‰å…¨
    è¿”å›: (æ˜¯å¦å®‰å…¨, å±é™©åŸå› )
    """
    command_lower = command.lower().strip()
    
    for dangerous in DANGEROUS_COMMANDS:
        if dangerous in command_lower:
            return False, f"æ£€æµ‹åˆ°å±é™©å‘½ä»¤: {dangerous}"
    
    # æ­£åˆ™åŒ¹é…æ›´å¤æ‚çš„æ¨¡å¼
    if re.search(r'rm\s+-[rf]+.*\s+/', command_lower):
        return False, "æ£€æµ‹åˆ°é€’å½’åˆ é™¤æ ¹ç›®å½•"
    
    return True, ""
```

**å‰ç«¯å¼¹çª—ç»„ä»¶**:
```typescript
// DangerConfirmModal.tsx
interface DangerConfirmModalProps {
  visible: boolean;
  command: string;
  risk: string;
  onConfirm: () => void;
  onCancel: () => void;
}

const DangerConfirmModal: React.FC<DangerConfirmModalProps> = ({
  visible, command, risk, onConfirm, onCancel
}) => {
  return (
    <Modal
      visible={visible}
      title={
        <Space>
          <ExclamationCircleOutlined style={{ color: '#ff4d4f', fontSize: 24 }} />
          <span style={{ color: '#ff4d4f' }}>å±é™©æ“ä½œç¡®è®¤</span>
        </Space>
      }
      onOk={onConfirm}
      onCancel={onCancel}
      okText="ç¡®è®¤æ‰§è¡Œ"
      cancelText="å–æ¶ˆ"
      okButtonProps={{ danger: true }}
    >
      <Alert
        type="error"
        message="ç³»ç»Ÿæ£€æµ‹åˆ°å±é™©å‘½ä»¤"
        description={risk}
        showIcon
        style={{ marginBottom: 16 }}
      />
      <Card size="small" title="å‘½ä»¤å†…å®¹">
        <pre style={{ background: '#fff1f0', padding: 12, borderRadius: 4 }}>
          {command}
        </pre>
      </Card>
      <p style={{ marginTop: 16, color: '#666' }}>
        âš ï¸ è¯¥æ“ä½œå¯èƒ½å¯¹ç³»ç»Ÿé€ æˆä¸å¯é€†æŸå®³ï¼Œè¯·ç¡®è®¤æ‚¨çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆã€‚
      </p>
    </Modal>
  );
};
```

**Day 15äº§å‡º**: åç«¯é»‘åå•æ£€æŸ¥
**Day 16äº§å‡º**: å‰ç«¯å±é™©æ“ä½œå¼¹çª—

---

### 4.2 ä»»åŠ¡3.2: å†å²ä¼šè¯ç®¡ç†ï¼ˆDay 17-19ï¼‰

**æ•°æ®åº“è®¾è®¡**:
```python
# models/session.py
from sqlalchemy import Column, String, DateTime, Text, Integer

class ChatSession(Base):
    __tablename__ = 'chat_sessions'
    
    id = Column(String(36), primary_key=True)
    title = Column(String(200))  # ä¼šè¯æ ‡é¢˜ï¼ˆAIè‡ªåŠ¨ç”Ÿæˆï¼‰
    created_at = Column(DateTime, default=datetime.now)
    updated_at = Column(DateTime, default=datetime.now, onupdate=datetime.now)
    message_count = Column(Integer, default=0)
    
class ChatMessage(Base):
    __tablename__ = 'chat_messages'
    
    id = Column(Integer, primary_key=True, autoincrement=True)
    session_id = Column(String(36), index=True)
    role = Column(String(20))  # user/assistant/system
    content = Column(Text)
    timestamp = Column(DateTime, default=datetime.now)
```

**APIæ¥å£**:
```python
@router.get("/sessions")
async def list_sessions(
    page: int = 1, 
    page_size: int = 20,
    keyword: str = None
):
    """è·å–ä¼šè¯åˆ—è¡¨ï¼Œæ”¯æŒæœç´¢"""
    
@router.get("/sessions/{session_id}/messages")
async def get_session_messages(session_id: str):
    """è·å–ä¼šè¯æ¶ˆæ¯å†å²"""
    
@router.post("/sessions")
async def create_session():
    """åˆ›å»ºæ–°ä¼šè¯"""
    
@router.delete("/sessions/{session_id}")
async def delete_session(session_id: str):
    """åˆ é™¤ä¼šè¯"""
```

**å‰ç«¯å†å²é¡µé¢**:
```typescript
// HistoryPage.tsx
const HistoryPage: React.FC = () => {
  const [sessions, setSessions] = useState<Session[]>([]);
  const [searchKeyword, setSearchKeyword] = useState('');
  
  return (
    <div>
      <Input.Search
        placeholder="æœç´¢å†å²ä¼šè¯..."
        value={searchKeyword}
        onChange={(e) => setSearchKeyword(e.target.value)}
        onSearch={handleSearch}
      />
      <List
        dataSource={sessions}
        renderItem={session => (
          <List.Item
            actions={[
              <Button onClick={() => loadSession(session.id)}>ç»§ç»­å¯¹è¯</Button>,
              <Button danger onClick={() => deleteSession(session.id)}>åˆ é™¤</Button>
            ]}
          >
            <List.Item.Meta
              title={session.title}
              description={`${session.message_count}æ¡æ¶ˆæ¯ Â· ${dayjs(session.updated_at).fromNow()}`}
            />
          </List.Item>
        )}
      />
    </div>
  );
};
```

**Day 17äº§å‡º**: æ•°æ®åº“è¡¨è®¾è®¡
**Day 18äº§å‡º**: åç«¯API
**Day 19äº§å‡º**: å‰ç«¯å†å²é¡µé¢

---

### 4.3 ä»»åŠ¡3.3: å•å…ƒæµ‹è¯•ï¼ˆDay 20ï¼‰

**æµ‹è¯•è¦†ç›–ç›®æ ‡**:
```
ç»„ä»¶æµ‹è¯• (25ä¸ª):
âœ“ Layout - æ¸²æŸ“ã€å¯¼èˆªåˆ‡æ¢
âœ“ MessageItem - ç”¨æˆ·/AIæ¶ˆæ¯æ¸²æŸ“
âœ“ ExecutionPanel - æ­¥éª¤å±•ç¤ºã€æŠ˜å 
âœ“ InputArea - å‘é€ã€å¿«æ·é”®
âœ“ SettingsPage - è¡¨å•éªŒè¯ã€ä¿å­˜
âœ“ HistoryPage - åˆ—è¡¨ã€æœç´¢

Hooksæµ‹è¯• (15ä¸ª):
âœ“ useChat - æ¶ˆæ¯å‘é€ã€å†å²åŠ è½½
âœ“ useConfig - é…ç½®è¯»å†™
âœ“ useExecution - æµå¼æ•°æ®

APIæµ‹è¯• (10ä¸ª):
âœ“ é…ç½®API - è·å–ã€æ›´æ–°ã€éªŒè¯
âœ“ ä¼šè¯API - CRUD
```

**Day 20äº§å‡º**: å•å…ƒæµ‹è¯•è¦†ç›–ç‡>80%

---

### 4.4 ä»»åŠ¡3.4: é›†æˆæµ‹è¯•ä¸éªŒæ”¶ï¼ˆDay 21ï¼‰

**E2Eæµ‹è¯•åœºæ™¯**:
```typescript
// å®Œæ•´å¯¹è¯æµç¨‹
test('å®Œæ•´å¯¹è¯æµç¨‹', async () => {
  await page.goto('http://localhost:5173');
  await page.fill('[data-testid="message-input"]', 'ä½ å¥½');
  await page.click('[data-testid="send-button"]');
  await expect(page.locator('.message-assistant')).toBeVisible();
});

// é…ç½®ä¿å­˜
test('é…ç½®ä¿å­˜', async () => {
  await page.click('[data-testid="nav-settings"]');
  await page.fill('[name="api_key"]', 'test-key');
  await page.click('[data-testid="save-config"]');
  await expect(page.locator('.ant-message-success')).toBeVisible();
});

// å±é™©æ“ä½œç¡®è®¤
test('å±é™©æ“ä½œå¼¹çª—', async () => {
  await page.fill('[data-testid="message-input"]', 'rm -rf /');
  await page.click('[data-testid="send-button"]');
  await expect(page.locator('.ant-modal')).toBeVisible();
});
```

**éªŒæ”¶æ£€æŸ¥æ¸…å•**:
- [ ] AC001-AC010å…¨éƒ¨é€šè¿‡
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡>80%
- [ ] E2Eæµ‹è¯•15ä¸ªå…¨éƒ¨é€šè¿‡
- [ ] Lighthouseæ€§èƒ½è¯„åˆ†>90
- [ ] ç§»åŠ¨ç«¯é€‚é…æ­£å¸¸

**Day 21äº§å‡º**: æµ‹è¯•æŠ¥å‘Šï¼ŒéªŒæ”¶é€šè¿‡

---

## äº”ã€æŠ€æœ¯è§„èŒƒä¸åŸºçº¿

### 5.1 æ€§èƒ½åŸºçº¿å®šä¹‰

**å½“å‰åŸºçº¿**ï¼ˆé˜¶æ®µ1.3å®Œæˆæ—¶æµ‹é‡ï¼‰ï¼š
| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹å¼ |
|------|--------|--------|----------|
| é¦–å±åŠ è½½æ—¶é—´ | 1.8s | <3s | Lighthouse |
| æ¶ˆæ¯å“åº”æ—¶é—´ | 2.5s | <3s | äººå·¥è®¡æ—¶ |
| å†…å­˜å ç”¨ | 120MB | <200MB | Chrome DevTools |
| æ¥å£æˆåŠŸç‡ | 98% | 99.9% | æ—¥å¿—ç»Ÿè®¡ |

**æ€§èƒ½ç›‘æ§ç‚¹**ï¼š
- æ¯æ¬¡APIè°ƒç”¨è®°å½•è€—æ—¶ï¼ˆè¶…è¿‡3sè®°å½•è­¦å‘Šæ—¥å¿—ï¼‰
- å‰ç«¯ç»„ä»¶æ¸²æŸ“æ—¶é—´ï¼ˆä½¿ç”¨React Profilerï¼‰
- å†…å­˜æ³„æ¼æ£€æŸ¥ï¼ˆ Week 3 Day 20 ä¸“é—¨æµ‹è¯•ï¼‰

### 5.2 é”™è¯¯å¤„ç†è§„èŒƒ

**APIé”™è¯¯å¤„ç†æ ‡å‡†**ï¼š
```typescript
// ç»Ÿä¸€é”™è¯¯å¤„ç†
try {
  const result = await api.call();
} catch (error) {
  logger.error('APIè°ƒç”¨å¤±è´¥', { endpoint, error: error.message });
  
  // ç”¨æˆ·æç¤º
  if (error.status === 401) {
    message.error('API Keyæ— æ•ˆï¼Œè¯·æ£€æŸ¥é…ç½®');
  } else if (error.status === 429) {
    message.error('è¯·æ±‚å¤ªé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•');
  } else {
    message.error('æ“ä½œå¤±è´¥ï¼š' + error.message);
  }
  
  // é‡è¯•æœºåˆ¶
  if (retryCount < 3) {
    setTimeout(() => retry(), 1000 * retryCount);
  }
}
```

### 5.3 æ•°æ®åº“é€‰å‹è¯´æ˜

**é€‰æ‹©SQLiteçš„ç†ç”±**ï¼š
1. **é›¶é…ç½®**ï¼šæ— éœ€å®‰è£…æ•°æ®åº“æœåŠ¡ï¼Œé€‚åˆæ¡Œé¢åº”ç”¨
2. **å•æ–‡ä»¶**ï¼šæ˜“äºå¤‡ä»½å’Œè¿ç§»ï¼ˆsessions.dbæ–‡ä»¶ï¼‰
3. **æ€§èƒ½è¶³å¤Ÿ**ï¼šå•æœºåº”ç”¨ï¼Œå¹¶å‘é‡ä½ï¼ˆ<10å¹¶å‘ï¼‰
4. **PythonåŸç”Ÿæ”¯æŒ**ï¼šsqlite3æ ‡å‡†åº“ï¼Œæ— éœ€é¢å¤–ä¾èµ–
5. **æ•°æ®å®‰å…¨**ï¼šæœ¬åœ°å­˜å‚¨ï¼Œä¸æ¶‰åŠç½‘ç»œä¼ è¾“

**è¡¨ç»“æ„è®¾è®¡åŸåˆ™**ï¼š
- ä½¿ç”¨å¤–é”®çº¦æŸä¿è¯æ•°æ®å®Œæ•´æ€§
- æ·»åŠ ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢ï¼ˆsession_id, created_atï¼‰
- å®šæœŸæ¸…ç†ï¼ˆä¿ç•™æœ€è¿‘100æ¡ä¼šè¯ï¼‰

---

## å…­ã€é£é™©è¯„ä¼°ä¸åº”å¯¹

### 6.1 æŠ€æœ¯é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ | åº”å¯¹ç­–ç•¥ |
|------|------|------|----------|
| æµå¼APIä¸ç¨³å®š | ä¸­ | é«˜ | å‡†å¤‡é™çº§æ–¹æ¡ˆï¼ˆéæµå¼ï¼‰ï¼Œå¢åŠ é‡è¯•æœºåˆ¶ |
| é…ç½®æŒä¹…åŒ–å†²çª | ä½ | ä¸­ | ä½¿ç”¨æ–‡ä»¶é”ï¼Œé¿å…å¹¶å‘å†™å…¥ |
| ç§»åŠ¨ç«¯é€‚é…å¤æ‚ | ä¸­ | ä¸­ | ä¼˜å…ˆæ¡Œé¢ç«¯ï¼Œç§»åŠ¨ç«¯Week3å†å®Œå–„ |
| æ—¥å¿—è¿‡å¤šå¯¼è‡´ç£ç›˜æ»¡ | ä½ | é«˜ | è®¾ç½®æ—¥å¿—è½®è½¬ï¼Œä¿ç•™7å¤©ï¼Œæœ€å¤§100MB |

### 6.2 æ—¶é—´é£é™©

| é£é™© | åº”å¯¹ |
|------|------|
| Week1å»¶æœŸ | å‹ç¼©Week2æ—¶é—´ï¼Œä¼˜å…ˆä¿è¯æ ¸å¿ƒåŠŸèƒ½ |
| Week2å»¶æœŸ | ç®€åŒ–è®¾ç½®é¡µé¢ï¼Œç”¨è¡¨å•æ›¿ä»£å¤æ‚äº¤äº’ |
| Week3æµ‹è¯•ä¸è¶³ | å‡å°‘E2Eæ•°é‡ï¼Œä¿è¯æ ¸å¿ƒæµç¨‹è¦†ç›– |

---

## ä¸ƒã€äº¤ä»˜æ ‡å‡†

### 7.1 åŠŸèƒ½äº¤ä»˜

- âœ… Webå¯¹è¯ç•Œé¢ï¼ˆç¾åŒ–ç‰ˆï¼‰
- âœ… æ‰§è¡Œè¿‡ç¨‹å¯è§†åŒ–ï¼ˆå¯æŠ˜å ï¼‰
- âœ… é…ç½®ç®¡ç†ï¼ˆAPI Keyã€ä¸»é¢˜ã€æ¨¡å‹ï¼‰
- âœ… å·¦ä¾§å¯¼èˆªæ ï¼ˆå“åº”å¼ï¼‰
- âœ… å®‰å…¨å¢å¼ºï¼ˆé»‘åå•ã€ç¡®è®¤å¼¹çª—ï¼‰
- âœ… å†å²ä¼šè¯ï¼ˆä¿å­˜ã€æ¢å¤ã€æœç´¢ï¼‰
- âœ… æ—¥å¿—è®°å½•å®Œæ•´ï¼ˆagent/tool/apiä¸‰å±‚ï¼‰

### 7.2 è´¨é‡äº¤ä»˜

- âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%
- âœ… E2Eæµ‹è¯•é€šè¿‡ç‡ 100%
- âœ… Lighthouseæ€§èƒ½è¯„åˆ† â‰¥ 90
- âœ… é›¶ä¸¥é‡Bugï¼Œé›¶å®‰å…¨æ¼æ´
- âœ… æ‰€æœ‰APIé”™è¯¯å¤„ç†å®Œå–„
- âœ… æ—¥å¿—æ–‡ä»¶è§„èŒƒï¼Œæ— æ•æ„Ÿä¿¡æ¯æ³„éœ²

### 7.3 æ–‡æ¡£äº¤ä»˜

- âœ… é˜¶æ®µ2.1æµ‹è¯•æŠ¥å‘Š
- âœ… é˜¶æ®µ2.1é˜¶æ®µæ€»ç»“
- âœ… APIæ¥å£æ–‡æ¡£
- âœ… ç”¨æˆ·æ“ä½œæ‰‹å†Œï¼ˆç®€è¦ï¼‰
- âœ… é”™è¯¯å¤„ç†è¯´æ˜æ–‡æ¡£

---

**ä¸‹ä¸€æ­¥**: ç¡®è®¤è®¡åˆ’åï¼Œåˆ›å»ºfeatureåˆ†æ”¯å¼€å§‹Week 1å¼€å‘ã€‚
