# 联调合作方法规则文档

**文档类型**: 协作规范  
**制定人**: 小沈、小新  
**制定时间**: 2026-02-18 14:12:49  
**存放位置**: D:\2bktest\MDview\OmniAgentAs-desk\doc-阶段2.1\

---

## 1. 联调记录协作规范

### 1.1 基本原则

联调过程中，所有操作、问题、结论都需实时记录到联调记录文件，确保协作透明、可追溯。

### 1.2 记录内容规范

| 记录类型 | 内容要求 | 记录位置 |
|---------|---------|---------|
| **操作运行结果** | 谁执行、什么时间、执行什么、返回什么 | 追加到联调记录文件 |
| **需要对方解决的问题** | 问题描述、期望解决方式、优先级 | 记录在对应章节，@对方 |
| **对用户要求回答的问题** | 问题内容、回答、结论 | 记录在文档中 |
| **验证结论** | 通过/失败、原因、下一步行动 | 明确标注在章节末尾 |

### 1.3 文档追加规则

```
┌─────────────────────────────────────────────────────┐
│              追加文档内容规范 ✅                     │
├─────────────────────────────────────────────────────┤
│ 1. 检查最后章节号                                   │
│ 2. 新章节号 = 最后章节号 + 1                        │
│ 3. 追加到文档尾部                                   │
│ 4. 章节标题格式：## N. 章节名 署名                  │
│ 5. 更新时间：每次追加后更新文档末尾时间戳            │
└─────────────────────────────────────────────────────┘
```

### 1.4 操作记录格式

每个操作记录必须包含：

```markdown
### X.Y 操作名称 执行人

**执行时间**: YYYY-MM-DD HH:MM:SS
**执行环境**: 服务地址/端口/工具
**执行命令/操作**: 
```bash
具体命令或操作步骤
```

**实际返回/结果**:
```json
返回数据或结果
```

**验证结果**: ✅ 通过 / ❌ 失败
**说明**: 补充说明或下一步行动
```

---

## 2. 联调工作流程

### 2.1 联调前准备阶段

| 阶段 | 负责人 | 输出物 | 确认方式 |
|------|--------|--------|---------|
| 后端准备检查 | 小沈 | 后端准备清单 | 文档确认 |
| 前端准备检查 | 小新 | 前端准备清单 | 文档确认 |
| 环境检查 | 双方 | 环境检查表 | 共同确认 |

### 2.2 分层测试执行阶段

按照计划文档的分层策略执行：

```
第一层：接口连通性测试（curl/Postman）【5分钟】
    ↓ 通过后进入
第二层：单接口功能验证（前端直接调用）【10分钟】
    ↓ 通过后进入
第三层：业务流程验证（完整功能场景）【20分钟】
    ↓ 通过后进入
第四层：边界和异常测试（错误处理）【10分钟】
```

### 2.3 问题处理流程

```
发现问题 → 记录问题 → 判断归属 → 快速修复（5分钟内）→ 重新测试
                                          ↓
                                    无法快速修复
                                          ↓
                                    升级用户决策
```

---

## 3. 章节分工规范

### 3.1 章节号分配

| 章节范围 | 负责方 | 说明 |
|---------|--------|------|
| 奇数章节(1,3,5...) | 小沈 | 后端相关内容 |
| 偶数章节(2,4,6...) | 小新 | 前端相关内容 |
| 共同章节 | 双方 | 协作确认内容 |

### 3.2 章节命名规范

```
## N. 章节标题 负责方

例如：
## 1. 后端准备检查情况 小沈
## 2. 前端准备检查情况 小新
## 3. 启动过程问题记录 小沈
## 4. 接口连通性测试 双方共同确认
```

---

## 4. 验证记录规范

### 4.1 测试结果记录格式

| # | 验证点 | 预期结果 | 实际结果 | 状态 |
|---|--------|---------|---------|------|
| 1 | 验证项名称 | 预期值 | 实际值 | ✅/❌ |

### 4.2 结论标注规范

- ✅ **通过**: 符合预期，可进入下一步
- ⚠️ **警告**: 基本通过，但有注意事项
- ❌ **失败**: 不符合预期，需修复
- ⏸️ **阻塞**: 无法继续，需解决后重新测试

### 4.3 问题记录格式

```markdown
**问题编号**: PROD-YYYYMMDD-XXX
**问题描述**: 一句话描述问题
**涉及接口**: 接口路径
**当前现象**: 实际发生什么
**预期现象**: 应该发生什么
**问题归属**: 前端/后端/契约
**处理方案**: 如何修复
**负责人**: 谁负责修复
**状态**: 待处理/处理中/已解决
```

---

## 5. 本次联调工作方法总结

### 5.1 已验证的有效做法

1. **分层测试策略**
   - 第一层curl验证确保后端接口正确
   - 逐层深入，降低问题定位成本

2. **实时文档协作**
   - 操作即时记录，避免遗漏
   - 问题即时标注，明确责任

3. **明确分工**
   - 小沈负责后端、curl测试
   - 小新负责前端、UI流程测试

4. **快速迭代**
   - 发现问题立即记录
   - 小问题现场修复（5分钟内）
   - 大问题升级决策

### 5.2 待优化事项

- 章节号检查机制（已出现一次错误）
- 问题分级标准细化
- 测试用例自动化程度提升

---

## 6. 附录：协作检查清单

每次追加内容前检查：

- [ ] 已查看最新章节号
- [ ] 新章节号 = 最后章节号 + 1
- [ ] 章节标题包含署名
- [ ] 包含执行时间戳
- [ ] 包含明确结论
- [ ] 已更新文档末尾时间戳

---

**版本**: v1.0  
**更新时间**: 2026-02-18 14:12:49  
**状态**: 生效中
