# memU 研究笔记

**创建时间**: 2026-02-05 01:00:00  
**研究状态**: 已完成初步研究  
**文档版本**: v1.0  
**最后更新**: 2026-02-05 10:55

---

## 一、项目概述

### 1.1 什么是memU

**memU** = 24/7全天候主动式记忆框架

memU是一个为**主动式Agent**设计的记忆框架，具有以下核心特点：

| 特点 | 说明 |
|------|------|
| **24/7主动式** | 始终在线，持续学习 |
| **成本效益** | 显著降低LLM Token消耗 |
| **意图理解** | 自动捕获和理解用户意图 |
| **主动预测** | 无需指令即可预测用户下一步行动 |
| **本地存储** | 支持本地部署，数据安全 |

### 1.2 memU能做什么

memU可以帮助AI Agent实现：

| 功能 | 具体能力 |
|------|---------|
| **持续学习** | 从每次交互中自动学习 |
| **用户画像** | 记住用户偏好、目标和上下文 |
| **主动推荐** | 基于兴趣主动推荐内容 |
| **智能提醒** | 预测用户需求，主动提醒 |
| **跨会话记忆** | 跨会话保持上下文一致性 |

### 1.3 项目地址

| 资源 | 链接 |
|------|------|
| **GitHub** | https://github.com/NevaMind-AI/memU |
| **官方网站** | https://memu.so |
| **云服务** | https://app.memu.so/quick-start |
| **API文档** | https://memu.pro/docs |
| **Discord** | https://discord.gg/memu |

---

## 二、安装方法

memU支持**两种安装方法**，适用于不同场景：

### 2.1 方法一：Cloud Version（云版本）

**特点**：无需安装，直接使用

| 项目 | 说明 |
|------|------|
| **访问地址** | https://memu.so |
| **安装步骤** | 无需安装，浏览器打开即用 |
| **适用场景** | 快速体验、不想配置环境 |
| **费用** | 有免费额度，企业版需付费 |

**使用方法**：
```
1. 打开浏览器访问 https://memu.so
2. 注册账号
3. 开始使用
```

### 2.2 方法二：Self-Hosted（自托管版本）

**特点**：本地安装，完全控制

#### 2.2.1 环境要求

| 要求 | 详情 |
|------|------|
| **Python** | ≥ 3.13.0 |
| **uv包管理器** | 推荐（可选） |
| **Git** | 已安装 |
| **磁盘空间** | 约100MB |

#### 2.2.2 安装步骤

```bash
# 克隆仓库
git clone https://github.com/NevaMind-AI/memU.git
cd memU

# 安装memU
pip install -e .
```

#### 2.2.3 存储选项

| 存储类型 | 配置方式 | 特点 |
|---------|---------|------|
| **内存存储** | `test_inmemory.py` | 临时，重启丢失 |
| **PostgreSQL** | Docker + pgvector | 持久化，支持向量搜索 |

**PostgreSQL启动命令**：
```bash
docker run -d \
  --name memu-postgres \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=memu \
  -p 5432:5432 \
  pgvector/pgvector:pg16
```

#### 2.2.4 测试运行

```bash
# 设置API密钥
export OPENAI_API_KEY=your_api_key

# 测试内存模式
cd tests
python test_inmemory.py

# 测试PostgreSQL模式
python test_postgres.py
```

---

## 三、安装方法对比

| 对比项 | Cloud版本 | Self-Hosted版本 |
|-------|----------|-----------------|
| **安装** | 无需安装 | `pip install -e .` |
| **配置** | 开箱即用 | 需要配置环境 |
| **数据存储** | 云端 | 本地/自己服务器 |
| **自定义** | 受限 | 完全自定义 |
| **费用** | 有免费额 | 免费（自建） |
| **技术要求** | 零要求 | Python 3.13+ |
| **适合** | 新手体验 | 开发者集成 |

---

## 四、核心功能详解

### 4.1 主动式记忆生命周期

```
┌──────────────────────────────────────────────────────────────────┐
│                      USER QUERY                                   │
└──────────────────────────────────────────────────────────────────┘
                 │                                          │
                 ▼                                          ▼
┌────────────────────────┐          ┌─────────────────────────────┐
│    🤖 MAIN AGENT       │          │      🧠 MEMU BOT           │
│                       │◄────────►│                             │
│  Handle & execute tasks│  inject  │  Monitor & proactive AI    │
├────────────────────────┤          ├─────────────────────────────┤
│                       │          │                             │
│  1. Receive input     │  ───►   │  1. Monitor I/O            │
│  2. Plan & execute    │  ◄───   │  2. Memorize & extract      │
│  3. Respond           │  ───►   │  3. Predict intent          │
│  4. Loop              │  ◄───   │  4. Run proactive tasks     │
└────────────────────────┘          └─────────────────────────────┘
                 │                        │
                 └────────────────────────┘
                           │
                           ▼
               ┌──────────────────────────────┐
               │     CONTINUOUS SYNC LOOP      │
               │   Agent ◄──► MemU ◄──► DB    │
               └──────────────────────────────┘
```

### 4.2 记忆架构

memU采用三层记忆架构：

| 层级 | 被动使用 | 主动使用 |
|------|---------|---------|
| **Resource** | 直接访问原始数据 | 后台监控新模式 |
| **Item** | 目标事实检索 | 实时提取 |
| **Category** | 摘要级概览 | 自动上下文组装 |

### 4.3 核心API

#### memorize() - 持续学习

```python
result = await service.memorize(
    resource_url="path/to/file.json",
    modality="conversation",  # conversation | document | image | video | audio
    user={"user_id": "123"}
)

# 返回提取的记忆：
{
    "resource": {...},      # 存储的资源元数据
    "items": [...],         # 提取的记忆项（立即可用）
    "categories": [...]     # 自动更新的类别结构
}
```

#### retrieve() - 双重模式智能

**RAG模式（快速）**：
```python
result = await service.retrieve(
    queries=[
        {"role": "user", "content": {"text": "What are their preferences?"}}
    ],
    method="rag"  # 快速基于嵌入的检索
)
```

**LLM模式（深度）**：
```python
result = await service.retrieve(
    queries=[
        {"role": "user", "content": {"text": "分析用户需求"}}
    ],
    method="llm"  # 深度推理
)
```

---

## 五、应用场景

### 5.1 信息推荐

*Agent监控用户兴趣，主动推送相关内容*

```python
# 用户一直在研究AI话题
# MemU追踪：阅读历史、保存的文章、搜索查询

# 当有新内容时：
Agent: "我找到了3篇与您最近研究的RAG优化相关的新论文。
        其中一篇的作者（陈博士）是您之前引用过的，他昨天发表了新文章。"
```

### 5.2 邮件管理

*Agent学习通信模式，处理日常邮件*

```python
# MemU观察邮件模式：
- 常见场景的回复模板
- 优先联系人和紧急关键词
- 日程偏好和可用性
- 写作风格和语气变化

# 主动邮件协助：
Agent: "您有12封新邮件。我已为3个常规请求起草了回复，
        并标记了来自优先联系人的2个紧急事项。"
```

### 5.3 交易与金融监控

*Agent跟踪市场上下文和用户投资行为*

```python
# MemU学习交易偏好：
- 历史决策的风险承受能力
- 偏好的行业和资产类别
- 对市场事件的响应模式
- 投资组合再平衡触发器

# 主动提醒：
Agent: "NVDA在盘后交易中下跌了5%。根据您过去的行為，
        您通常会在跌幅超过3%时买入科技股。
        您的当前配置允许在保持70/30股票债券目标的同时
        额外增加2000美元的敞口。"
```

---

## 六、memU生态

| 仓库 | 描述 | 主动式功能 |
|------|------|-----------|
| **[memU](https://github.com/NevaMind-AI/memU)** | 核心主动记忆引擎 | 7×24学习管道，自动分类 |
| **[memU-server](https://github.com/NevaMind-AI/memU-server)** | 后端持续同步 | 实时记忆更新，webhook触发 |
| **[memU-ui](https://github.com/NevaMind-AI/memU-ui)** | 可视化记忆仪表盘 | 实时记忆演变监控 |

---

## 七、性能指标

| 指标 | 数值 |
|------|------|
| **平均准确率** | 92.09% |
| **测试基准** | Locomo benchmark |
| **推理任务** | 所有任务类型 |

---

## 八、环境检查报告

### 8.1 当前环境状态

**检查时间**: 2026-02-05 01:00:00  
**操作系统**: Windows 11 + Git Bash

#### 已安装的依赖

| 依赖项 | 版本 | 状态 |
|--------|------|------|
| **Python** | 3.11.9 | ⚠️ 版本不足 |
| **pip** | 25.3 | ✅ 已安装 |
| **Git** | 2.51.2 | ✅ 已安装 |
| **Node.js** | 24.11.1 | ✅ 已安装 |
| **PostgreSQL客户端** | 18.1 | ✅ 已安装 |
| **pg_ctl** | 18.1 | ✅ 已安装 |
| **Go** | 1.25.6 | ✅ 已安装 |
| **OpenAI包** | 2.14.0 | ✅ 已安装 |
| **Anthropic包** | 0.75.0 | ✅ 已安装 |

#### 缺失的关键依赖

| 依赖项 | 要求版本 | 当前状态 |
|--------|---------|---------|
| **Python** | ≥ 3.13.0 | ❌ 3.11.9 |
| **Docker Desktop** | 最新版 | ❌ 未安装 |
| **uv包管理器** | 最新版 | ❌ 未安装 |
| **pgvector扩展** | pg16 | ❌ 未安装 |
| **PostgreSQL服务器** | 18.x | ❌ 未运行 |

### 8.2 问题分析

#### 问题1：Python版本不足
```
当前版本: Python 3.11.9
要求版本: Python 3.13+
影响: 无法安装memU
```

#### 问题2：Docker Desktop未安装
```
当前状态: 未安装Docker Desktop
要求: Docker Desktop + pgvector镜像
影响: 无法使用Docker方式运行PostgreSQL
```

---

## 九、推荐方案

### 9.1 方案A：☁️ Cloud版本（最快）

```
无需安装任何依赖
访问: https://memu.so
优点: 即开即用
缺点: 需要网络，数据在云端
```

### 9.2 方案B：💻 升级Python后安装

```
步骤1: 安装Python 3.13+
步骤2: pip install -e .
步骤3: 使用内存模式测试
优点: 完全本地控制
缺点: 无持久化存储
```

### 9.3 方案C：🐳 安装Docker后使用

```
步骤1: 安装Docker Desktop
步骤2: 启动PostgreSQL+pgvector容器
步骤3: pip install -e .
步骤4: 配置并运行
优点: 持久化存储
缺点: 需要安装Docker
```

---

## 十、相关资源

| 资源 | 链接 |
|------|------|
| **官方文档** | https://memu.pro/docs |
| **GitHub仓库** | https://github.com/NevaMind-AI/memU |
| **Cloud服务** | https://app.memu.so/quick-start |
| **Discord社区** | https://discord.gg/memu |
| **性能基准** | https://github.com/NevaMind-AI/memU-experiment |

---

**文档更新时间**: 2026-02-05 10:55  
**版本**: v1.0  
**研究人**: OpenCode AI Assistant

---

## 附录：memU vs BMAD-METHOD对比

| 对比项 | memU | BMAD-METHOD |
|--------|------|-------------|
| **定位** | 主动记忆框架 | 敏捷AI开发方法 |
| **核心功能** | 记忆管理、主动预测 | 结构化开发流程 |
| **Agent数量** | 1个核心Bot | 21个专业Agent |
| **工作流** | 记忆生命周期 | 50+开发工作流 |
| **安装难度** | 中等 | 中等 |
| **适用场景** | 长期AI助手 | 软件开发项目 |
| **学习曲线** | 较低 | 较高 |
| **开源协议** | Apache 2.0 | MIT |
| **社区活跃度** | 活跃 | 非常活跃 |

---

**文档结束**
